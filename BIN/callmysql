#set -x
USER=$1
PW=$2
HOST=$3
INFILE=$4

usage(){
    echo "Usage:"
    echo "callmysql USER PW HOST SID [INFILE]"
    exit 1
}

if [ -z ${USER} ] || [ -z ${PW} ] || [ -z ${HOST} ]; then
    usage
    exit 1
fi
 
CREDS="${USER}/${PW}"
CONNSTR="-h ${HOST} -u ${USER} -p${PW} "

if [ -z ${INFILE} ]; then
    mysql ${CONNSTR}
else
    #suppress output if using an inputfile 
    mysql -S ${CONNSTR} < ${INFILE}
fi


